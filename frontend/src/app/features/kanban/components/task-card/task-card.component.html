<nz-card
  nzSize="small"
  class="task-card cursor-grab active:cursor-grabbing"
  [class.task-card-done]="task().status === 'Done'"
  (click)="openDetails()"
>
  <div class="mb-2 flex items-start justify-between gap-2">
    <p class="m-0 line-clamp-2 text-sm font-semibold text-slate-800">{{ task().title }}</p>
    @if (task().gitHubIssueNumber) {
      <span class="issue-number">#{{ task().gitHubIssueNumber }}</span>
    }
  </div>

  @if (labels().length > 0) {
    <div class="mt-2 flex flex-wrap gap-1">
      @for (label of visibleLabels(); track label.name) {
        <nz-tag class="task-label">{{ label.name }}</nz-tag>
      }
      @if (hiddenLabelsCount() > 0) {
        <nz-tag class="task-label">+{{ hiddenLabelsCount() }}</nz-tag>
      }
    </div>
  }

  <div class="mt-3 flex items-center justify-between gap-2 border-t border-slate-100 pt-2">
    <nz-tag [nzColor]="issueTagColor()">{{ task().status }}</nz-tag>
    <span class="text-[11px] font-medium uppercase tracking-[0.12em] text-slate-400">Issue</span>
  </div>
</nz-card>
