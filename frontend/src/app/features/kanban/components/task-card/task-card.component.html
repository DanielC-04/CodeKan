<article class="task-card cursor-grab active:cursor-grabbing" [class.task-card-done]="task().status === 'Done'" (click)="openDetails()">
  <div class="task-card__header">
    <h4 class="task-card__title">{{ task().title }}</h4>
    @if (task().gitHubIssueNumber) {
      <span class="task-card__issue">#{{ task().gitHubIssueNumber }}</span>
    }
  </div>

  @if (labels().length > 0) {
    <div class="task-card__labels">
      @for (label of visibleLabels(); track label.name) {
        <span class="task-label">{{ label.name }}</span>
      }
      @if (hiddenLabelsCount() > 0) {
        <span class="task-label">+{{ hiddenLabelsCount() }}</span>
      }
    </div>
  }

  <div class="task-card__footer">
    <span class="task-state" [class.task-state--todo]="task().status === 'Todo'" [class.task-state--progress]="task().status === 'InProgress'" [class.task-state--done]="task().status === 'Done'">
      {{ task().status }}
    </span>
    <span class="task-card__meta">GitHub Issue</span>
  </div>
</article>
